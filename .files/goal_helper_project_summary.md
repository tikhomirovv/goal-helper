# üìå –ò–¥–µ—è –ø—Ä–æ–µ–∫—Ç–∞: –ü–æ–º–æ—â–Ω–∏–∫ –≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–µ–π —á–µ—Ä–µ–∑ –º–∏–∫—Ä–æ-–∑–∞–¥–∞—á–∏

## üîπ –°—É—Ç—å
–ü—Ä–æ–µ–∫—Ç ‚Äî —ç—Ç–æ –Ω–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≤ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º —Å–º—ã—Å–ª–µ, –∞ **–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—é —Ü–µ–ª–µ–π**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–æ–π—Ç–∏ –ø—É—Ç—å –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É **—á–µ—Ä–µ–∑ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ, –Ω–µ–æ—Ç—Ç–∞–ª–∫–∏–≤–∞—é—â–∏–µ —à–∞–≥–∏**.

–ò–¥–µ—è –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–æ–π –≤–∏–¥–µ–æ–∏–≥—Ä –∏ –Ω–∞—Ä—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å–∏—Å—Ç–µ–º:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–Ω–µ –≤–∏–¥–∏—Ç —Å—Ä–∞–∑—É –≤–µ—Å—å –ø–ª–∞–Ω**,
- –ü–æ–ª—É—á–∞–µ—Ç **–æ–¥–Ω—É –∑–∞–¥–∞—á—É –∑–∞ —Ä–∞–∑**,
- –ù–µ –∑–Ω–∞–µ—Ç, **—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤ –µ—â—ë –≤–ø–µ—Ä–µ–¥–∏**,
- –ö–∞–∂–¥–æ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Äî –ø—Ä–æ—Å—Ç–æ–µ, –¥–æ—Å—Ç–∏–∂–∏–º–æ–µ, –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è.

## üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–û–¥–Ω–∞ —Ü–µ–ª—å = –ø—É—Ç—å, —Ä–∞–∑–±–∏—Ç—ã–π –Ω–∞ –º–∏–∫—Ä–æ-—à–∞–≥–∏**
2. **–®–∞–≥–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã** (–≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç 5 –º–∏–Ω—É—Ç –¥–æ –ø–∞—Ä—ã —á–∞—Å–æ–≤)
3. **–û–¥–∏–Ω —à–∞–≥ ‚Äî –æ–¥–∏–Ω –ª–æ–≥–∏—á–µ—Å–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç –¥–µ–π—Å—Ç–≤–∏—è**
4. **–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –≤—ã–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ**
5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —à–∞–≥, –µ—Å–ª–∏ –æ–Ω –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç**
6. **–ù–µ—Ç –ø—Ä–∏–≤—è–∑–∫–∏ –∫–æ –≤—Ä–µ–º–µ–Ω–∏ (–Ω–µ "–Ω–∞ –¥–µ–Ω—å"), –∞ –∫ —Å–º—ã—Å–ª–æ–≤–æ–π –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ—Å—Ç–∏**

## üîπ –†–∞–±–æ—Ç–∞ LLM –≤ —Å–∏—Å—Ç–µ–º–µ

### ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —à–∞–≥–æ–≤
LLM –ø–æ–ª—É—á–∞–µ—Ç:
- –¶–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏, –≤–æ–∑–º–æ–∂–Ω–æ, –µ—ë –æ–ø–∏—Å–∞–Ω–∏–µ)
- –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–∞–Ω–µ–µ —à–∞–≥–∏ (–∏—Å—Ç–æ—Ä–∏—è)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç (—É—Ç–æ—á–Ω—è—é—â–∏–µ –æ—Ç–≤–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –±—ã–ª–∏)

–ò –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
- `step`: —Å–ª–µ–¥—É—é—â–∏–π –º–∏–∫—Ä–æ-—à–∞–≥

### ‚úÖ –ï—Å–ª–∏ LLM –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã—Ö
LLM –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å:
```json
{
  "status": "need_clarification",
  "question": "–£ —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å –∏–¥–µ—è –¥–ª—è —Ç–µ–º—ã –ø–µ—Å–Ω–∏?"
}
```

### ‚úÖ –ü—Ä–∏ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–µ —à–∞–≥–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–∫–ª–æ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —à–∞–≥ –∏ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –Ω–∞–ø—Ä–∏–º–µ—Ä:
> "–≠—Ç–æ—Ç —à–∞–≥ —Å–ª–∏—à–∫–æ–º –æ–±—â–∏–π, –Ω–µ –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ –¥–µ–ª–∞—Ç—å"

LLM –ø–æ–ª—É—á–∞–µ—Ç:
- —Ü–µ–ª—å,
- –∏—Å—Ç–æ—Ä–∏—é,
- —Ç–µ–∫—É—â–∏–π —à–∞–≥,
- –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π,
–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É—é —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫—É.

## üîπ –¢–∏–ø–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ü–µ–ª–µ–π –∏ —à–∞–≥–æ–≤ –≤ –ë–î

```json
Goal {
  id: uuid,
  user_id: uuid,
  title: string,
  description: string,
  current_step: Step,
  completed_steps: Step[],
  context: {
    "clarifications": [ ... ]
  }
}

Step {
  id: uuid,
  goal_id: uuid,
  text: string,
  created_at: timestamp,
  completed_at: timestamp | null,
  rephrased: boolean,
  user_comment: string | null
}
```

## üîπ Telegram-–±–æ—Ç –∫–∞–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å MVP

### ‚úÖ –ü–æ—á–µ–º—É Telegram:
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ FSM
- –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- –ò–Ω—Ç—É–∏—Ç–∏–≤–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üîπ FSM (Finite State Machine) ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ

FSM = –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç. –£ –±–æ—Ç–∞ –µ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–Ω–µ—Ç —Ü–µ–ª–∏¬ª, ¬´—Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ —Ü–µ–ª—å—é¬ª), –º–µ–∂–¥—É –∫–æ—Ç–æ—Ä—ã–º–∏ –æ–Ω –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## üîπ –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π flow —Å –∞–∫—Ç–∏–≤–Ω–æ–π —Ü–µ–ª—å—é

### 1. `/start` ‚Äî –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- –ö–Ω–æ–ø–∫–∏: üìã –°–ø–∏—Å–æ–∫ —Ü–µ–ª–µ–π, ‚ûï –ù–æ–≤–∞—è —Ü–µ–ª—å

### 2. `/goals` ‚Äî –°–ø–∏—Å–æ–∫ —Ü–µ–ª–µ–π
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ —Ü–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
  ```
  1. üéØ –í—ã—É—á–∏—Ç—å —è–ø–æ–Ω—Å–∫–∏–π
  2. üéº –ù–∞–ø–∏—Å–∞—Ç—å –∞–ª—å–±–æ–º
  ```
- –í—ã–±–æ—Ä —Ü–µ–ª–∏ –¥–µ–ª–∞–µ—Ç –µ—ë –∞–∫—Ç–∏–≤–Ω–æ–π

### 3. `/newgoal` ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–ª–∏
- –ë–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –µ—ë –∫–∞–∫ –∞–∫—Ç–∏–≤–Ω—É—é

### 4. –†–∞–±–æ—Ç–∞ —Å –∞–∫—Ç–∏–≤–Ω–æ–π —Ü–µ–ª—å—é
- `/step` ‚Äî —Ç–µ–∫—É—â–∏–π —à–∞–≥
- `/done` ‚Äî –æ—Ç–º–µ—Ç–∏—Ç—å —à–∞–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º
- `/next` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥
- `/rephrase` ‚Äî –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —à–∞–≥

### 5. `/switch` ‚Äî –°–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–π —Ü–µ–ª–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ü–µ–ª–µ–π

### 6. `/status` ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é —Ü–µ–ª—å –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å
### 7. `/help` ‚Äî –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

## üîπ –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è LLM

### ‚úÖ 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞
```plaintext
–¢—ã –∫–æ—É—á, –ø–æ–º–æ–≥–∞–µ—à—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –¥–æ—Å—Ç–∏—á—å —Ü–µ–ª–∏, —Ä–∞–∑–±–∏–≤–∞—è –µ—ë –Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ, –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏.

–ï—Å–ª–∏ —Ç–µ–±–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã—Ö ‚Äî –∑–∞–¥–∞–π —É—Ç–æ—á–Ω—è—é—â–∏–π –≤–æ–ø—Ä–æ—Å.

–§–æ—Ä–º–∞—Ç:
{
  "status": "ok" | "need_clarification",
  "step": "...",
  "question": "..."
}
```

### ‚úÖ 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞ (–ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ)
```plaintext
–¶–µ–ª—å: <<>>
–ò—Å—Ç–æ—Ä–∏—è —à–∞–≥–æ–≤:
- ...
- ...
–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π —Å–ª–µ–¥—É—é—â–∏–π –ª–æ–≥–∏—á–Ω—ã–π —à–∞–≥. –ï—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω ‚Äî –∑–∞–¥–∞–π –≤–æ–ø—Ä–æ—Å.
```

### ‚úÖ 3. –ü–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ —à–∞–≥–∞
```plaintext
–¶–µ–ª—å: <<>>
–ò—Å—Ç–æ—Ä–∏—è: ...
–¢–µ–∫—É—â–∏–π —à–∞–≥: <<...>>
–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: <<...>>

–°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —à–∞–≥ –Ω–∞ —Ç–æ–º –∂–µ —É—Ä–æ–≤–Ω–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.
```

### ‚úÖ 4. –ó–∞–ø—Ä–æ—Å —É—Ç–æ—á–Ω–µ–Ω–∏—è –ø—Ä–∏ –≤–≤–æ–¥–µ —Ü–µ–ª–∏
```plaintext
–¶–µ–ª—å: <<>>

–ï—Å–ª–∏ —Ü–µ–ª—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–Ω—è—Ç–Ω–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —à–∞–≥–∞ ‚Äî –≤–µ—Ä–Ω–∏ —Å—Ç–∞—Ç—É—Å –∏ –≤–æ–ø—Ä–æ—Å:
{
  "status": "need_clarification",
  "question": "..."
}
```

## üß† –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤ –±—É–¥—É—â–µ–º:

- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ü–µ–ª–µ–π –ø–æ —Ç–∏–ø–∞–º (—Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ, –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ, –±—ã—Ç–æ–≤—ã–µ –∏ —Ç.–¥.)
- –•–∞—Ä–∞–∫—Ç–µ—Ä —à–∞–≥–æ–≤ –∏ –≥–ª—É–±–∏–Ω–∞ ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –ø–æ —Ç–∏–ø—É
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ü–µ–ª–µ–π —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–∏–¥–µ—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, "5 —à–∞–≥–æ–≤ –∏–∑ 20")
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–π LLM —á–µ—Ä–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ¬´—Ç–æ–Ω–∞¬ª –ø–æ–º–æ—â–Ω–∏–∫–∞ (—Å–µ—Ä—å—ë–∑–Ω—ã–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–π)
